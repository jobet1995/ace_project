{% load wagtailcore_tags wagtailimages_tags static %}

<!-- Reusable Featured Projects Component -->
<section class="featured-projects-section py-5">
  <div class="container">
    <div class="row mb-5">
      <div class="col-12 text-center">
        <h2 class="display-5 fw-bold mb-3">{{ section_title|default:"Featured Projects" }}</h2>
        <p class="lead text-muted">{{ section_description|default:"Explore our latest success stories and innovative solutions" }}</p>
      </div>
    </div>
    
    <!-- Projects Grid -->
    <div class="row g-4">
      {% for project in projects_data %}
        <div class="col-lg-6 col-md-6 fade-in">
          <div class="project-card h-100 position-relative overflow-hidden rounded-3 shadow-sm">
            <!-- Project Image -->
            <div class="project-image-wrapper">
              {% if project.image %}
                {% image project.image fill-600x400 as project_image %}
                <img src="{{ project_image.url }}" alt="{{ project.title }}" class="w-100 h-100 object-fit-cover">
              {% else %}
                <div class="placeholder-bg bg-primary bg-opacity-10 d-flex align-items-center justify-content-center" style="height: 300px;">
                  <i class="bi bi-image text-primary" style="font-size: 3rem;"></i>
                </div>
              {% endif %}
            </div>
            
            <!-- Project Content -->
            <div class="project-content p-4 h-100 d-flex flex-column">
              <h3 class="h4 fw-bold mb-2">{{ project.title }}</h3>
              <p class="text-muted flex-grow-1">{{ project.description }}</p>
              <a href="{{ project.link|default:'#' }}" class="btn btn-outline-primary mt-auto">View Case Study</a>
            </div>
            
            <!-- Hover Overlay -->
            <div class="project-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-primary bg-opacity-90 opacity-0">
              <div class="text-center p-4">
                <h3 class="h4 text-white fw-bold mb-3">{{ project.title }}</h3>
                <p class="text-white mb-4">{{ project.description }}</p>
                <a href="{{ project.link|default:'#' }}" class="btn btn-light">View Case Study</a>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <!-- Default projects if none provided -->
        <!-- Project 1 -->
        <div class="col-lg-6 col-md-6 fade-in">
          <div class="project-card h-100 position-relative overflow-hidden rounded-3 shadow-sm">
            <!-- Project Image -->
            <div class="project-image-wrapper">
              <div class="placeholder-bg bg-primary bg-opacity-10 d-flex align-items-center justify-content-center" style="height: 300px;">
                <i class="bi bi-image text-primary" style="font-size: 3rem;"></i>
              </div>
            </div>
            
            <!-- Project Content -->
            <div class="project-content p-4 h-100 d-flex flex-column">
              <h3 class="h4 fw-bold mb-2">Enterprise Cloud Migration</h3>
              <p class="text-muted flex-grow-1">Successfully migrated a Fortune 500 company's infrastructure to AWS, reducing costs by 40%.</p>
              <a href="#" class="btn btn-outline-primary mt-auto">View Case Study</a>
            </div>
            
            <!-- Hover Overlay -->
            <div class="project-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-primary bg-opacity-90 opacity-0">
              <div class="text-center p-4">
                <h3 class="h4 text-white fw-bold mb-3">Enterprise Cloud Migration</h3>
                <p class="text-white mb-4">Successfully migrated a Fortune 500 company's infrastructure to AWS, reducing costs by 40%.</p>
                <a href="#" class="btn btn-light">View Case Study</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Project 2 -->
        <div class="col-lg-6 col-md-6 fade-in">
          <div class="project-card h-100 position-relative overflow-hidden rounded-3 shadow-sm">
            <!-- Project Image -->
            <div class="project-image-wrapper">
              <div class="placeholder-bg bg-primary bg-opacity-10 d-flex align-items-center justify-content-center" style="height: 300px;">
                <i class="bi bi-image text-primary" style="font-size: 3rem;"></i>
              </div>
            </div>
            
            <!-- Project Content -->
            <div class="project-content p-4 h-100 d-flex flex-column">
              <h3 class="h4 fw-bold mb-2">Healthcare Data Analytics</h3>
              <p class="text-muted flex-grow-1">Implemented a real-time analytics platform for a major hospital network, improving patient outcomes.</p>
              <a href="#" class="btn btn-outline-primary mt-auto">View Case Study</a>
            </div>
            
            <!-- Hover Overlay -->
            <div class="project-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-primary bg-opacity-90 opacity-0">
              <div class="text-center p-4">
                <h3 class="h4 text-white fw-bold mb-3">Healthcare Data Analytics</h3>
                <p class="text-white mb-4">Implemented a real-time analytics platform for a major hospital network, improving patient outcomes.</p>
                <a href="#" class="btn btn-light">View Case Study</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Project 3 -->
        <div class="col-lg-6 col-md-6 fade-in">
          <div class="project-card h-100 position-relative overflow-hidden rounded-3 shadow-sm">
            <!-- Project Image -->
            <div class="project-image-wrapper">
              <div class="placeholder-bg bg-primary bg-opacity-10 d-flex align-items-center justify-content-center" style="height: 300px;">
                <i class="bi bi-image text-primary" style="font-size: 3rem;"></i>
              </div>
            </div>
            
            <!-- Project Content -->
            <div class="project-content p-4 h-100 d-flex flex-column">
              <h3 class="h4 fw-bold mb-2">E-commerce Platform Redesign</h3>
              <p class="text-muted flex-grow-1">Redesigned and optimized an e-commerce platform, increasing conversion rates by 35%.</p>
              <a href="#" class="btn btn-outline-primary mt-auto">View Case Study</a>
            </div>
            
            <!-- Hover Overlay -->
            <div class="project-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-primary bg-opacity-90 opacity-0">
              <div class="text-center p-4">
                <h3 class="h4 text-white fw-bold mb-3">E-commerce Platform Redesign</h3>
                <p class="text-white mb-4">Redesigned and optimized an e-commerce platform, increasing conversion rates by 35%.</p>
                <a href="#" class="btn btn-light">View Case Study</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Project 4 -->
        <div class="col-lg-6 col-md-6 fade-in">
          <div class="project-card h-100 position-relative overflow-hidden rounded-3 shadow-sm">
            <!-- Project Image -->
            <div class="project-image-wrapper">
              <div class="placeholder-bg bg-primary bg-opacity-10 d-flex align-items-center justify-content-center" style="height: 300px;">
                <i class="bi bi-image text-primary" style="font-size: 3rem;"></i>
              </div>
            </div>
            
            <!-- Project Content -->
            <div class="project-content p-4 h-100 d-flex flex-column">
              <h3 class="h4 fw-bold mb-2">Financial Services Security</h3>
              <p class="text-muted flex-grow-1">Implemented a comprehensive security framework for a major financial institution.</p>
              <a href="#" class="btn btn-outline-primary mt-auto">View Case Study</a>
            </div>
            
            <!-- Hover Overlay -->
            <div class="project-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-primary bg-opacity-90 opacity-0">
              <div class="text-center p-4">
                <h3 class="h4 text-white fw-bold mb-3">Financial Services Security</h3>
                <p class="text-white mb-4">Implemented a comprehensive security framework for a major financial institution.</p>
                <a href="#" class="btn btn-light">View Case Study</a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  /* Featured Projects Component Styles */
  .featured-projects-section {
    background-color: #ffffff;
  }
  
  .project-card {
    transition: all 0.3s ease;
    background: white;
    border-radius: 10px;
    overflow: hidden;
    position: relative;
  }
  
  .project-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
  }
  
  .project-image-wrapper {
    position: relative;
    overflow: hidden;
    height: 300px;
  }
  
  .project-content {
    transition: all 0.3s ease;
  }
  
  .project-overlay {
    transition: opacity 0.3s ease;
  }
  
  .project-card:hover .project-overlay {
    opacity: 1;
  }
  
  .project-card:hover .project-content {
    opacity: 0;
  }
  
  .card-body {
    padding: 2rem;
  }
  
  @media (max-width: 768px) {
    .card-body {
      padding: 1.5rem;
    }
    
    .project-image-wrapper {
      height: 250px;
    }
  }
  
  /* Button hover effect */
  .btn-outline-primary {
    border-width: 2px;
    transition: all 0.3s ease;
  }
  
  .btn-outline-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }
  
  /* Fade-in animation */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  
  .fade-in.animated {
    opacity: 1;
    transform: translateY(0);
  }
</style>